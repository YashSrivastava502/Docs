trigger: none   # manual run only

pool:
  name: 'DR-Ansible'   # your self-hosted agent

parameters:
- name: action
  displayName: "Select Action (start or stop)"
  type: string
  default: 'stop'
  values:
  - start
  - stop

steps:
- checkout: self

- script: |
    echo "Running VM control with action: ${{ parameters.action }}"
    chmod +x ./vm-control.sh
    ./vm-control.sh ${{ parameters.action }}
  displayName: "Execute VM Start/Stop Script"
