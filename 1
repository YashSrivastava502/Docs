az network public-ip list \
  --resource-group MyResourceGroup \
  --query "[].{Name:name, IP:ipAddress}" -o table



while read ipname; do
  az network public-ip create \
    --name $ipname \
    --resource-group MyResourceGroup \
    --location eastus \
    --sku Standard \
    --allocation-method Static
done < names.txt


az resource list \
  --resource-group MyResourceGroup \
  --resource-type "Microsoft.Network/publicIPAddresses" \
  --query "[?substring(properties.provisioningState,0,10)=='$today'].{Name:name, IP:properties.ipAddress, Created:createdTime}" \
  -o table
